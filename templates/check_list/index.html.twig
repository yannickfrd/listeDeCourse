{% extends 'base.html.twig' %}

{% block title %}Create a checklist{% endblock %}

        {% block stylesheets %}
{#            {{ encore_entry_link_tags('checklist') }}#}
        {% endblock %}
{% block body %}
    <!-- Modal -->
    <div class="modal fade" id="checklistModal" tabindex="-1" aria-labelledby="checklistLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                {# Message flash #}
                <div id="flash-modal" role="alert"></div>
                {# !!! Message flash #}
                {{ form_start(checklistForm, {'methods': 'POST', 'action': path('post_the_check_list')}) }}
                <div class="modal-header">
                    <h5 class="modal-title" id="checklistLabel">Add a new Check list</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    {{ form_widget(checklistForm) }}
                    {{ form_errors(checklistForm) }}
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                </div>
                {{ form_end(checklistForm) }}
            </div>
        </div>
    </div>

    <div class="jumbotron jumbotron-fluid">
        <div class="container">
            <h1 class="display-4">Check list</h1>
            <hr class="my-4">

            <button id="myModal" type="button" class="btn btn-outline-secondary" data-toggle="modal" data-target="#checklistModal">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-plus" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                </svg>
            </button>

        </div>
    </div>

    <!-- Liste des checklists -->
    <ul id="checklist" class="list-group list-group-flush">
        {% for list in checklists %}
            {% if is_granted('POST_VIEW', list) %}
                <li class="list-group-item" style="background-color: {{ list.colorHexa }}">{{ list.title }}</li>
            {% endif %}
        {% endfor %}
    </ul>

{% endblock %}

        {% block javascripts %}
            {{ encore_entry_script_tags('checklist') }}
        {% endblock %}